<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="description" content="EU als Sportverein verstehen - Interaktive deutsche Lektion f√ºr vietnamesische Studenten">
    <title>üèÜ EU = Sportverein? - Deutsch Campus</title>
    <style>
        /* Deutsch Campus Styling */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            line-height: 1.6;
            color: #333;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
        }

        .lesson-container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 1rem;
            min-height: 100vh;
        }

        .lesson-header {
            background: white;
            border-radius: 15px;
            padding: 2rem;
            margin-bottom: 2rem;
            text-align: center;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
        }

        .lesson-header h1 {
            font-size: 2.5rem;
            margin-bottom: 1rem;
            background: linear-gradient(45deg, #667eea, #764ba2);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .lesson-tabs {
            display: flex;
            background: white;
            border-radius: 10px;
            padding: 0.5rem;
            margin-bottom: 2rem;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            overflow-x: auto;
            flex-wrap: wrap;
            justify-content: center;
        }

        .tab-button {
            background: transparent;
            border: none;
            padding: 1rem 2rem;
            cursor: pointer;
            border-radius: 8px;
            font-weight: 600;
            transition: all 0.3s ease;
            margin: 0.25rem;
            min-width: 120px;
            font-size: 0.9rem;
        }

        .tab-button.active {
            background: #667eea;
            color: white;
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(102, 126, 234, 0.3);
        }

        .tab-button:hover:not(.active) {
            background: #f8f9fa;
            transform: translateY(-1px);
        }

        .lesson-content {
            background: white;
            border-radius: 15px;
            padding: 2rem;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
        }

        .lesson-panel {
            display: none;
        }

        .lesson-panel.active {
            display: block;
            animation: fadeIn 0.5s ease-in;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* Deutsch Campus Color Coding */
        .grammar-section {
            background: linear-gradient(135deg, #28a745, #20c997);
            color: white;
            padding: 1.5rem;
            border-radius: 10px;
            margin: 1.5rem 0;
            box-shadow: 0 5px 15px rgba(40, 167, 69, 0.3);
        }

        .production-section {
            background: linear-gradient(135deg, #fd7e14, #e83e8c);
            color: white;
            padding: 1.5rem;
            border-radius: 10px;
            margin: 1.5rem 0;
            box-shadow: 0 5px 15px rgba(253, 126, 20, 0.3);
        }

        .vocabulary-section {
            background: linear-gradient(135deg, #007bff, #6f42c1);
            color: white;
            padding: 1.5rem;
            border-radius: 10px;
            margin: 1.5rem 0;
            box-shadow: 0 5px 15px rgba(0, 123, 255, 0.3);
        }

        .section-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1rem;
            flex-wrap: wrap;
        }

        .german {
            font-weight: 700;
            font-size: 1.2rem;
        }

        .vietnamese {
            font-style: italic;
            opacity: 0.9;
            font-size: 1rem;
        }

        .interactive-element {
            background: rgba(255,255,255,0.15);
            border-radius: 8px;
            padding: 1rem;
            margin: 1rem 0;
            backdrop-filter: blur(10px);
        }

        .text-input, .textarea-input {
            width: 100%;
            padding: 0.75rem;
            border: 2px solid rgba(255,255,255,0.3);
            border-radius: 8px;
            background: rgba(255,255,255,0.1);
            color: white;
            font-size: 1rem;
            margin: 0.5rem 0;
            backdrop-filter: blur(10px);
        }

        .text-input::placeholder, .textarea-input::placeholder {
            color: rgba(255,255,255,0.7);
        }

        .text-input:focus, .textarea-input:focus {
            outline: none;
            border-color: rgba(255,255,255,0.8);
            background: rgba(255,255,255,0.2);
        }

        .textarea-input {
            min-height: 120px;
            resize: vertical;
        }

        .btn {
            background: rgba(255,255,255,0.2);
            color: white;
            border: 2px solid rgba(255,255,255,0.3);
            padding: 0.75rem 1.5rem;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s ease;
            margin: 0.5rem 0.5rem 0.5rem 0;
            display: inline-block;
        }

        .btn:hover {
            background: rgba(255,255,255,0.3);
            border-color: rgba(255,255,255,0.8);
            transform: translateY(-2px);
        }

        .quiz-container {
            background: rgba(255,255,255,0.1);
            border-radius: 10px;
            padding: 1.5rem;
            margin: 1rem 0;
        }

        .quiz-question {
            margin: 1rem 0;
            padding: 1rem;
            background: rgba(255,255,255,0.1);
            border-radius: 8px;
        }

        .quiz-options {
            margin: 0.5rem 0;
        }

        .quiz-option {
            display: block;
            margin: 0.5rem 0;
            cursor: pointer;
            padding: 0.5rem;
            border-radius: 5px;
            transition: background 0.3s ease;
        }

        .quiz-option:hover {
            background: rgba(255,255,255,0.1);
        }

        .quiz-option input[type="radio"] {
            margin-right: 0.5rem;
        }

        .comparison-table {
            width: 100%;
            border-collapse: collapse;
            margin: 1rem 0;
            background: rgba(255,255,255,0.1);
            border-radius: 8px;
            overflow: hidden;
        }

        .comparison-table th, .comparison-table td {
            padding: 1rem;
            text-align: left;
            border-bottom: 1px solid rgba(255,255,255,0.2);
        }

        .comparison-table th {
            background: rgba(255,255,255,0.2);
            font-weight: 700;
        }

        .progress-indicator {
            background: rgba(255,255,255,0.2);
            border-radius: 10px;
            padding: 0.5rem;
            margin: 1rem 0;
        }

        .progress-bar {
            background: linear-gradient(45deg, #28a745, #20c997);
            height: 8px;
            border-radius: 4px;
            transition: width 0.3s ease;
        }

        .saved-indicator {
            position: fixed;
            top: 20px;
            right: 20px;
            background: #28a745;
            color: white;
            padding: 0.5rem 1rem;
            border-radius: 20px;
            opacity: 0;
            transition: opacity 0.3s ease;
            z-index: 1000;
        }

        .saved-indicator.show {
            opacity: 1;
        }

        .emoji {
            font-size: 1.5rem;
            margin-right: 0.5rem;
        }

        .highlight-box {
            background: rgba(255,255,255,0.2);
            border-left: 4px solid rgba(255,255,255,0.8);
            padding: 1rem;
            margin: 1rem 0;
            border-radius: 0 8px 8px 0;
        }

        .team-builder {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 1rem;
            margin: 1rem 0;
        }

        .player-card {
            background: rgba(255,255,255,0.1);
            border-radius: 8px;
            padding: 1rem;
            text-align: center;
            transition: transform 0.3s ease;
        }

        .player-card:hover {
            transform: translateY(-5px);
        }

        /* Print Styles */
        @media print {
            body {
                background: white !important;
                color: black !important;
                font-size: 12pt !important;
                line-height: 1.5 !important;
            }

            .lesson-container {
                max-width: none !important;
                padding: 0 !important;
            }

            .lesson-tabs {
                display: none !important;
            }

            .lesson-panel {
                display: block !important;
                page-break-before: always;
                background: white !important;
                color: black !important;
            }

            .lesson-panel:first-child {
                page-break-before: avoid;
            }

            .grammar-section, .production-section, .vocabulary-section {
                background: white !important;
                color: black !important;
                border: 2px solid black !important;
                page-break-inside: avoid;
            }

            .grammar-section {
                border-left: 8px solid #28a745 !important;
            }

            .production-section {
                border-left: 8px solid #fd7e14 !important;
            }

            .vocabulary-section {
                border-left: 8px solid #007bff !important;
            }

            .text-input, .textarea-input {
                border: 1px solid black !important;
                background: white !important;
                color: black !important;
            }

            .btn {
                background: white !important;
                color: black !important;
                border: 1px solid black !important;
            }

            .interactive-element {
                background: #f8f9fa !important;
                color: black !important;
                border: 1px solid #ccc !important;
            }
        }

        /* Mobile Responsive */
        @media (max-width: 768px) {
            .lesson-container {
                padding: 0.5rem;
            }

            .lesson-header {
                padding: 1rem;
            }

            .lesson-header h1 {
                font-size: 1.8rem;
            }

            .lesson-content {
                padding: 1rem;
            }

            .tab-button {
                padding: 0.75rem 1rem;
                font-size: 0.8rem;
                min-width: 100px;
            }

            .comparison-table {
                font-size: 0.9rem;
            }

            .comparison-table th, .comparison-table td {
                padding: 0.5rem;
            }

            .team-builder {
                grid-template-columns: 1fr;
            }
        }

        @media (max-width: 480px) {
            .lesson-tabs {
                flex-direction: column;
            }

            .tab-button {
                width: 100%;
                margin: 0.1rem;
            }

            .section-header {
                flex-direction: column;
                align-items: flex-start;
            }
        }


        .vocab-word {
            position: relative;
            display: inline-block;
            margin-right: 0.5em;
        }
        .vocab-icons {
            margin-left: 0.3em;
            font-size: 1.1em;
            vertical-align: middle;
        }
        .vocab-icons a, .vocab-icons .sound-icon {
            cursor: pointer;
            margin-right: 0.2em;
            text-decoration: none;
        }
        .ipa {
            font-size: 0.95em;
            color: #222;
            margin-top: 0.2em;
            margin-bottom: 0.2em;
            line-height: 1.2;
        }
    </style>
</head>
<body>
    <div class="lesson-container">
        <div class="lesson-header">
            <h1>üèÜ EU = SPORTVEREIN? - SO S√ÅNH VUI NH·ªòN!</h1>
            <p><strong>Bonus-Lektion: EU = Sportverein? - Lustiger Vergleich!</strong></p>
            <p><em>B√†i h·ªçc bonus: EU = C√¢u l·∫°c b·ªô th·ªÉ thao? - So s√°nh vui nh·ªôn!</em></p>
            <div class="progress-indicator">
                <div class="progress-bar" id="overallProgress" style="width: 0%"></div>
                <p style="margin-top: 0.5rem;"><span id="progressText">Fortschritt: 0%</span> <em>Ti·∫øn ƒë·ªô: 0%</em></p>
            </div>
        </div>

        <nav class="lesson-tabs">
            <button class="tab-button active" onclick="showLesson(1)">
                üìñ Lesen<br><em>ƒê·ªçc hi·ªÉu</em>
            </button>
            <button class="tab-button" onclick="showLesson(2)">
                ‚öΩÔ∏è Vergleichen<br><em>So s√°nh</em>
            </button>
            <button class="tab-button" onclick="showLesson(3)">
                ‚úçÔ∏è Schreiben<br><em>Vi·∫øt</em>
            </button>
            <button class="tab-button" onclick="showLesson(4)">
                üéÆ Spiele<br><em>Tr√≤ ch∆°i</em>
            </button>
            <button class="tab-button" onclick="showLesson(5)">
                üé® Design<br><em>Thi·∫øt k·∫ø</em>
            </button>
        </nav>

        <div class="lesson-content">
            <!-- TEIL 1: LESEN -->
            <div id="lesson1" class="lesson-panel active">
                <div class="vocabulary-section">
                    <div class="section-header">
                        <span class="vocab-word german" data-word="TEIL 1: LESEN - EU ALS SUPER-VEREIN">
                            TEIL 1: LESEN - EU ALS SUPER-VEREIN
                            <span class="vocab-icons">
                                <a href="#" class="google-image-link" title="Google Images" data-word="TEIL 1: LESEN - EU ALS SUPER-VEREIN" target="_blank">üñº</a>
                                <span class="sound-icon" data-word="TEIL 1: LESEN - EU ALS SUPER-VEREIN" title="Aussprache anh√∂ren">üîä</span>
                            </span>
                            <div class="ipa">[IPA fehlt]</div>
                        </span>
                        <span class="vietnamese">Ph·∫ßn 1: ƒê·ªçc hi·ªÉu - EU nh∆∞ m·ªôt si√™u c√¢u l·∫°c b·ªô</span>
                    </div>
                    
                    <div class="highlight-box">
                        <p><strong>Aufgabe:</strong> <em>Nhi·ªám v·ª•:</em> Lest den Text &uuml;ber die EU als Sportverein und bearbeitet die &Uuml;bungen.</p>
                        <p><em>ƒê·ªçc vƒÉn b·∫£n v·ªÅ EU nh∆∞ m·ªôt c√¢u l·∫°c b·ªô th·ªÉ thao v√† l√†m c√°c b√†i t·∫≠p.</em></p>
                    </div>


                    <div class="interactive-element">
                        <h3>üìö Lese-Text: "Die EU = Der gr&ouml;&szlig;te Sportverein Europas?"</h3>
                        <p><em>VƒÉn b·∫£n ƒë·ªçc: "EU = C√¢u l·∫°c b·ªô th·ªÉ thao l·ªõn nh·∫•t ch√¢u √Çu?"</em></p>
                        
                        <div style="background: rgba(255,255,255,0.2); padding: 1.5rem; border-radius: 8px; margin: 1rem 0;">
                            <h4>üèÜ EU VEREINS-ANALYSE: 27 L&Auml;NDER, EIN TEAM!</h4>
                            
                            <p>Stellt euch vor: Die EU ist wie ein riesiger Sportverein mit 27 Mannschaften aus verschiedenen L&auml;ndern. Aber statt Fu&szlig;ball spielen sie "Wirtschaft", "Politik" und "Frieden"!</p>
                            
                            <h4>üë• DER VEREINSVORSTAND:</h4>
                            <ul>
                                <li><strong>Pr&auml;sident:</strong> EU-Kommissionspr&auml;sidentin (wie ein Vereinsvorstand)</li>
                                <li><strong>Trainer:</strong> EU-Parlamentspr&auml;sident (plant die Strategie)</li>
                                <li><strong>Mannschaftskapit&auml;ne:</strong> Die 27 Regierungschefs</li>
                                <li><strong>Spieler:</strong> 450 Millionen EU-B&uuml;rger</li>
                            </ul>

                            <h4>üéØ VEREINSZIELE:</h4>
                            <ul>
                                <li><strong>Hauptziel:</strong> Frieden in Europa (wie Fair Play im Sport)</li>
                                <li><strong>Trainingsplan:</strong> Wirtschaft st&auml;rken, Bildung verbessern, Umwelt sch&uuml;tzen</li>
                                <li><strong>Spielfeld:</strong> Der europ&auml;ische Binnenmarkt</li>
                                <li><strong>Gegner:</strong> Wirtschaftskrisen, Klimawandel, Konflikte</li>
                            </ul>

                            <h4>üìã VEREINSREGELN:</h4>
                            <ol>
                                <li>Alle Mitglieder m&uuml;ssen demokratisch sein (wie Fairness-Regeln)</li>
                                <li>Menschenrechte respektieren (wie Respekt vor Gegnern)</li>
                                <li>Zusammenarbeiten, nicht gegeneinander k&auml;mpfen (Teamgeist!)</li>
                                <li>Schw&auml;chere Mitglieder unterst&uuml;tzen (wie erfahrene Spieler Anf&auml;ngern helfen)</li>
                            </ol>

                            <h4>‚úÖ MITGLIEDSCHAFTSVORTEILE:</h4>
                            <ul>
                                <li>Freier "Transfer" zwischen L&auml;ndern (wie Spielerwechsel)</li>
                                <li>Gemeinsame "W&auml;hrung" Euro (wie einheitliche Spielregeln)</li>
                                <li>Schutz durch die Gruppe (wie Teamsolidarit&auml;t)</li>
                                <li>Zugang zu allen EU-"Stadien" ohne Visa</li>
                            </ul>

                            <h4>‚ö†Ô∏è VEREINSPROBLEME:</h4>
                            <ul>
                                <li>Manchmal streiten die "Spieler" &uuml;ber Taktiken (wie Brexit = Spieler verl&auml;sst Team)</li>
                                <li>Neue Mitglieder brauchen Zeit zur Integration (wie neue Spieler)</li>
                                <li>Verschiedene "Spielstile" m&uuml;ssen harmonieren (Nord- vs. S&uuml;deuropa)</li>
                            </ul>

                            <h4>üèÖ ERFOLGE DES VEREINS EU:</h4>
                            <ul>
                                <li>75 Jahre ohne gro&szlig;en "Krieg" zwischen Mitgliedern</li>
                                <li>St&auml;rkste Wirtschaft der Welt (besseres "Team" als USA oder China allein)</li>
                                <li>Umweltschutz-Weltmeister (klimafreundlichste Region)</li>
                            </ul>
                        </div>


                        <div class="quiz-container">
                            <h4>üìù Lese-Aufgaben: <em>B√†i t·∫≠p ƒë·ªçc hi·ªÉu</em></h4>
                            
                            <div class="quiz-question">
                                <p><strong>1. Unterstreicht alle Sport-Metaphern im Text</strong></p>
                                <p><em>G·∫°ch d∆∞·ªõi t·∫•t c·∫£ c√°c ·∫©n d·ª• th·ªÉ thao trong vƒÉn b·∫£n</em></p>
                                <textarea class="textarea-input" placeholder="Schreibt hier die Sport-Metaphern..." data-autosave="reading-metaphors"></textarea>
                            </div>

                            <div class="quiz-question">
                                <p><strong>2. Findet 5 Gemeinsamkeiten zwischen EU und Sportvereinen</strong></p>
                                <p><em>T√¨m 5 ƒëi·ªÉm chung gi·ªØa EU v√† c√°c c√¢u l·∫°c b·ªô th·ªÉ thao</em></p>
                                <textarea class="textarea-input" placeholder="1. Beide haben Regeln... 2. ..." data-autosave="reading-similarities"></textarea>
                            </div>

                            <div class="quiz-question">
                                <p><strong>3. Notiert 3 Probleme, die beide haben k&ouml;nnen</strong></p>
                                <p><em>Ghi l·∫°i 3 v·∫•n ƒë·ªÅ m√† c·∫£ hai ƒë·ªÅu c√≥ th·ªÉ g·∫∑p ph·∫£i</em></p>
                                <textarea class="textarea-input" placeholder="Problem 1: ..." data-autosave="reading-problems"></textarea>
                            </div>

                            <button class="btn" onclick="completeReadingSection()">Lesen abschlie&szlig;en <em>Ho√†n th√†nh ƒë·ªçc hi·ªÉu</em></button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- TEIL 2: VERGLEICHEN -->
            <div id="lesson2" class="lesson-panel">
                <div class="production-section">
                    <div class="section-header">
                        <span class="german">‚öΩÔ∏è TEIL 2: VERGLEICHS-SPASS - EU VS. SPORTS CLUB</span>
                        <span class="vietnamese">Ph·∫ßn 2: So s√°nh vui nh·ªôn - EU vs C√¢u l·∫°c b·ªô th·ªÉ thao</span>
                    </div>


                    <div class="interactive-element">
                        <h3>A) Der gro&szlig;e Vergleich schreiben</h3>
                        <p><em>Vi·∫øt b√†i so s√°nh l·ªõn</em></p>
                        
                        <table class="comparison-table">
                            <thead>
                                <tr>
                                    <th>Aspekt <em>Kh√≠a c·∫°nh</em></th>
                                    <th>EU</th>
                                    <th>Sportverein (z.B. Bayern M&uuml;nchen)</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td><strong>Hauptziel</strong> <em>M·ª•c ti√™u ch√≠nh</em></td>
                                    <td>Frieden und Wohlstand</td>
                                    <td><input type="text" class="text-input" placeholder="Troph√§en gewinnen..." data-autosave="compare-goal"></td>
                                </tr>
                                <tr>
                                    <td><strong>Wie erreichen?</strong> <em>L√†m th·∫ø n√†o ƒë·∫°t ƒë∆∞·ª£c?</em></td>
                                    <td>Wirtschaft st&auml;rken, Bildung f&ouml;rdern</td>
                                    <td><input type="text" class="text-input" placeholder="Training, Teamwork..." data-autosave="compare-how"></td>
                                </tr>
                                <tr>
                                    <td><strong>Mitglieder</strong> <em>Th√†nh vi√™n</em></td>
                                    <td>27 L&auml;nder</td>
                                    <td><input type="text" class="text-input" placeholder="25 Spieler + Staff..." data-autosave="compare-members"></td>
                                </tr>
                                <tr>
                                    <td><strong>Chef/Boss</strong> <em>Tr∆∞·ªüng nh√≥m</em></td>
                                    <td><input type="text" class="text-input" placeholder="EU-Kommissionspr√§sidentin..." data-autosave="compare-eu-boss"></td>
                                    <td><input type="text" class="text-input" placeholder="Trainer..." data-autosave="compare-club-boss"></td>
                                </tr>
                                <tr>
                                    <td><strong>Regeln</strong> <em>Quy t·∫Øc</em></td>
                                    <td>EU-Gesetze und Vertr&auml;ge</td>
                                    <td><input type="text" class="text-input" placeholder="Fu√üballregeln..." data-autosave="compare-rules"></td>
                                </tr>
                                <tr>
                                    <td><strong>Budget</strong></td>
                                    <td><input type="text" class="text-input" placeholder="170 Milliarden Euro/Jahr..." data-autosave="compare-eu-budget"></td>
                                    <td><input type="text" class="text-input" placeholder="750 Millionen Euro/Jahr..." data-autosave="compare-club-budget"></td>
                                </tr>
                                <tr>
                                    <td><strong>Erfolg messen</strong> <em>ƒêo l∆∞·ªùng th√†nh c√¥ng</em></td>
                                    <td><input type="text" class="text-input" placeholder="Frieden, Wirtschaftswachstum..." data-autosave="compare-eu-success"></td>
                                    <td>Tabellenplatz, Pokale</td>
                                </tr>
                                <tr>
                                    <td><strong>Probleme</strong> <em>V·∫•n ƒë·ªÅ</em></td>
                                    <td>Brexit, verschiedene Meinungen</td>
                                    <td><input type="text" class="text-input" placeholder="Verletzungen, hohe Kosten..." data-autosave="compare-problems"></td>
                                </tr>
                                <tr>
                                    <td><strong>Fans</strong> <em>Ng∆∞·ªùi h√¢m m·ªô</em></td>

                                    <td>450 Millionen EU-B&uuml;rger</td>
                                    <td><input type="text" class="text-input" placeholder="Millionen von Bayern-Fans..." data-autosave="compare-fans"></td>
                                </tr>
                            </tbody>
                        </table>
                    </div>

                    <div class="interactive-element">
                        <h3>B) Lustige Analogien erfinden</h3>
                        <p><em>S√°ng t·∫°o nh·ªØng ph√©p so s√°nh vui nh·ªôn</em></p>
                        
                        <div class="quiz-container">
                            <h4>üèÜ EU-FUSSBALL ANALOGIEN</h4>
                            
                            <div class="highlight-box">
                                <p><strong>Beispiel:</strong> <em>V√≠ d·ª•:</em></p>
                                <p><strong>BREXIT</strong> = Ein Star-Spieler verl&auml;sst das Team mitten in der Saison, weil er denkt, er kann alleine besser spielen. Spoiler: Kann er nicht! üòÖ</p>
                            </div>

                            <div class="quiz-question">
                                <p><strong>EU-BEITRITT =</strong></p>
                                <textarea class="textarea-input" placeholder="Ein neuer Spieler kommt zum Team..." data-autosave="analogy-joining"></textarea>
                            </div>

                            <div class="quiz-question">
                                <p><strong>EURO-W&Auml;HRUNG =</strong></p>
                                <textarea class="textarea-input" placeholder="Alle Spieler tragen die gleiche Trikotfarbe..." data-autosave="analogy-euro"></textarea>
                            </div>

                            <div class="quiz-question">
                                <p><strong>EU-PARLAMENT =</strong></p>
                                <textarea class="textarea-input" placeholder="Die Spielerversammlung entscheidet √ºber..." data-autosave="analogy-parliament"></textarea>
                            </div>

                            <div class="quiz-question">
                                <p><strong>HANDELSKRIEG USA-EU =</strong></p>
                                <textarea class="textarea-input" placeholder="Zwei Top-Teams streiten √ºber..." data-autosave="analogy-trade-war"></textarea>
                            </div>

                            <div class="quiz-question">
                                <p><strong>EU-STUDENTEN-AUSTAUSCH (ERASMUS) =</strong></p>
                                <textarea class="textarea-input" placeholder="Spieler trainieren in verschiedenen Vereinen..." data-autosave="analogy-erasmus"></textarea>
                            </div>

                            <button class="btn" onclick="completeComparisonSection()">Vergleich abschlie&szlig;en <em>Ho√†n th√†nh so s√°nh</em></button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- TEIL 3: SCHREIBEN -->
            <div id="lesson3" class="lesson-panel">
                <div class="grammar-section">
                    <div class="section-header">
                        <span class="german">‚úçÔ∏è TEIL 3: SCHREIBEN - EU vs. BAYERN M√úNCHEN ANALYSE</span>
                        <span class="vietnamese">Ph·∫ßn 3: Vi·∫øt - Ph√¢n t√≠ch EU vs Bayern Munich</span>
                    </div>


                    <div class="interactive-element">
                        <h3>Schreibt einen Sportreporter-Artikel (180-200 W√∂rter)</h3>
                        <p><em>Vi·∫øt m·ªôt b√†i b√°o th·ªÉ thao (180-200 t·ª´)</em></p>
                        
                        <div class="highlight-box">
                            <p><strong>Aufgabe:</strong> <em>Nhi·ªám v·ª•:</em> Ihr seid Sportreporter und schreibt eine Analyse: "EU gegen Bayern M√ºnchen - Wer ist erfolgreicher?"</p>
                            <p><em>C√°c em l√† ph√≥ng vi√™n th·ªÉ thao v√† vi·∫øt m·ªôt b√†i ph√¢n t√≠ch: "EU ƒë·∫•u v·ªõi Bayern Munich - Ai th√†nh c√¥ng h∆°n?"</em></p>
                        </div>

                        <div class="quiz-container">
                            <h4>üèÜ SPORT-ANALYSE: EU GEGEN BAYERN M√úNCHEN</h4>
                            
                            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 1rem; margin: 1rem 0;">
                                <div style="background: rgba(255,255,255,0.1); padding: 1rem; border-radius: 10px; margin: 1rem 0;">
                                    <h4 style="color: white;">N√§chstes Mal wenn jemand fragt: <em>L·∫ßn t·ªõi khi ai ƒë√≥ h·ªèi:</em></h4>
                                    <p style="color: white; font-style: italic;">"Was ist die EU?"</p>
                                    <p style="color: white;"><strong>K√∂nnt ihr antworten:</strong> "Die EU ist wie ein Sportverein, nur dass statt Toren sie Frieden und Wohlstand f√ºr 450 Millionen Menschen schaffen!"</p>
                                </div>
                            </div>

                            <p style="color: white; font-size: 1.3rem; margin-top: 2rem;"><strong>Jetzt ab mit euch - erz√§hlt allen von der EU Champions League! üöÄ</strong></p>
                            <p style="color: white; font-style: italic;">B√¢y gi·ªù h√£y ƒëi v√† k·ªÉ cho m·ªçi ng∆∞·ªùi v·ªÅ Champions League EU!</p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- TEIL 4: SPIELE -->
            <div id="lesson4" class="lesson-panel">
                <div class="production-section">
                    <div class="section-header">
                        <span class="german">üéÆ TEIL 4: EU-FUSSBALL SPIELE ERFINDEN <span style="font-size:0.9em; font-weight:400;">(20 Ph√∫t)</span></span>
                        <span class="vietnamese">Ph·∫ßn 4: S√°ng t·∫°o tr√≤ ch∆°i EU-B√≥ng ƒë√°</span>
                    </div>
                    <div class="interactive-element">
                        <h3>A) EU-L√§nder-Fu√üball-Quiz <span style="font-size:0.9em; font-weight:400;">(10 Ph√∫t)</span></h3>
                        <p><strong>Erfindet ein Quiz f√ºr Freunde:</strong></p>
                        <div class="quiz-container">
                            <h4>üåç EU-FUSSBALL-NATIONS-QUIZ</h4>
                            <ol>
                                <li>Welches EU-Land hat die meisten Weltmeisterschaften gewonnen?<br>
                                    a) Deutschland &nbsp; b) Frankreich &nbsp; c) Italien
                                </li>
                                <li>In welchem EU-Land spielt Cristiano Ronaldo NICHT mehr?<br>
                                    a) Spanien &nbsp; b) Italien &nbsp; c) Portugal
                                </li>
                                <li>Welches kleine EU-Land hat √ºberraschend Island bei der EM 2016 geschlagen?<br>
                                    a) Luxembourg &nbsp; b) Malta &nbsp; c) Frankreich <span style="font-size:0.9em;">(Ha! Trick-Frage!)</span>
                                </li>
                                <li>Bayern M√ºnchen ist aus Deutschland. Real Madrid ist aus <u>___</u>?</li>
                                <li>Die Champions League ist wie die EU, weil <u>___</u>?</li>
                            </ol>
                            <p><strong>BONUS-FRAGE:</strong><br>
                            Wenn die EU ein Fu√üballteam w√§re, welche Formation w√ºrden sie spielen?<br>


                            4-4-2? 3-5-2? Oder 27-0-0 (alle verteidigen)? üòÑ</p>
                        </div>
                    </div>
                    <div class="interactive-element">
                        <h3>B) EU-Dream-Team Managerspiel <span style="font-size:0.9em; font-weight:400;">(10 Ph√∫t)</span></h3>
                        <p><strong>Stellt euer EU-All-Star Team zusammen:</strong></p>
                        <div class="quiz-container">
                            <h4>üèÜ MEIN EU-DREAM-TEAM 2024</h4>
                            <p><strong>FORMATION:</strong> <u>___-___-___</u></p>
                            <p><strong>TORWART:</strong> <u>___</u> (aus welchem EU-Land: <u>___</u>)<br>Warum: <u>___</u></p>
                            <p><strong>VERTEIDIGUNG:</strong><br>
                                1. <u>___</u> (Land: <u>___</u>) - St√§rke: <u>___</u><br>
                                2. <u>___</u> (Land: <u>___</u>) - St√§rke: <u>___</u><br>
                                3. <u>___</u> (Land: <u>___</u>) - St√§rke: <u>___</u><br>
                                4. <u>___</u> (Land: <u>___</u>) - St√§rke: <u>___</u>
                            </p>
                            <p><strong>MITTELFELD:</strong><br>
                                1. <u>___</u> (Land: <u>___</u>) - Rolle: <u>___</u><br>
                                2. <u>___</u> (Land: <u>___</u>) - Rolle: <u>___</u><br>
                                3. <u>___</u> (Land: <u>___</u>) - Rolle: <u>___</u>
                            </p>
                            <p><strong>ANGRIFF:</strong><br>
                                1. <u>___</u> (Land: <u>___</u>) - Position: <u>___</u><br>
                                2. <u>___</u> (Land: <u>___</u>) - Position: <u>___</u><br>
                                3. <u>___</u> (Land: <u>___</u>) - Position: <u>___</u>
                            </p>
                            <p><strong>TRAINER:</strong> <u>___</u> (aus <u>___</u>)<br>
                            Taktik: <u>___</u></p>
                            <p><strong>TEAM-MOTTO:</strong> "<u>___</u>"</p>
                            <p><strong>GR√ñSSTER RIVALE:</strong> <u>___</u> (Team au√üerhalb EU)</p>
                            <p><strong>CHAMPION LEAGUE CHANCEN:</strong> <u>___</u>/10</p>
                        </div>
                    </div>
                </div>
            </div>


            <!-- TEIL 5: DESIGN -->
            <div id="lesson5" class="lesson-panel">
                <div class="vocabulary-section">
                    <div class="section-header">
                        <span class="german">üé® TEIL 5: KREATIV-DESIGN - EU-SPORTVEREIN <span style="font-size:0.9em; font-weight:400;">(10 Ph√∫t)</span></span>
                        <span class="vietnamese">Ph·∫ßn 5: Thi·∫øt k·∫ø s√°ng t·∫°o - C√¢u l·∫°c b·ªô th·ªÉ thao EU</span>
                    </div>
                    <div class="interactive-element">
                        <h3>Designt euren "EU United FC"</h3>
                        <div class="quiz-container">
                            <h4>üèü VEREINSPROFIL: EU UNITED FC</h4>
                            <p><strong>VEREINSNAME:</strong> EU United FC (oder euer kreativer Name: <u>___</u>)</p>
                            <p><strong>VEREINSFARBEN:</strong> <u>___</u> und <u>___</u><br>
                            <span style="font-size:0.95em;">(Warum diese Farben: <u>___</u>)</span></p>
                            <p><strong>VEREINSLOGO:</strong><br>
                            Beschreibt oder zeichnet: <u>___</u></p>
                            <p><strong>HEIMSTADION:</strong> "Europa Arena"<br>
                            Kapazit√§t: 450.000 Fans (einer pro 1000 EU-B√ºrger üòÑ)<br>
                            Standort: <u>___</u></p>
                            <p><strong>VEREINSLIED:</strong><br>
                            Erste Zeile: "<u>___</u>"<br>
                            Refrain: "<u>___</u>"</p>
                            <p><strong>MASKOTTCHEN:</strong> <u>___</u><br>
                            <span style="font-size:0.95em;">(Ein Tier, das Europa repr√§sentiert)</span></p>
                            <p><strong>BER√úHMTESTE FANS:</strong><br>
                            - Pr√§sident <u>___</u> (aus <u>___</u>)<br>
                            - Musikstar <u>___</u> (aus <u>___</u>)<br>
                            - YouTuber <u>___</u> (aus <u>___</u>)</p>
                            <p><strong>GR√ñSSTER ERFOLG:</strong> <u>___</u></p>
                            <p><strong>LUSTIGSTE NIEDERLAGE:</strong> <u>___</u></p>
                            <p><strong>VEREINSPHILOSOPHIE:</strong><br>
                            "Wir spielen nicht gegeneinander, sondern <u>___</u>"</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Auto-save indicator -->
    <div class="saved-indicator" id="savedIndicator">
        üíæ Automatisch gespeichert <em>ƒê√£ l∆∞u t·ª± ƒë·ªông</em>
    </div>

    <script>
        // Standalone functionality - no backend required
        let currentLesson = 1;
        let lessonProgress = {
            lesson1: 0,
            lesson2: 0,
            lesson3: 0,
            lesson4: 0,
            lesson5: 0
        };

        // Load saved progress
        function loadProgress() {
            const saved = localStorage.getItem('eu_sports_lesson_progress');
            if (saved) {
                lessonProgress = JSON.parse(saved);
                updateProgressDisplay();
            }
        }

        // Save progress
        function saveProgress() {
            localStorage.setItem('eu_sports_lesson_progress', JSON.stringify(lessonProgress));
            showSavedIndicator();
        }

        // Auto-save functionality
        function autoSave(element) {
            const key = element.getAttribute('data-autosave');
            if (key) {
                localStorage.setItem(`eu_sports_${key}`, element.value);
                showSavedIndicator();
            }
        }




        // Load auto-saved content
        function loadAutoSavedContent() {
            const inputs = document.querySelectorAll('[data-autosave]');
            inputs.forEach(input => {
                const key = input.getAttribute('data-autosave');
                const saved = localStorage.getItem(`eu_sports_${key}`);
                if (saved) {
                    input.value = saved;
                    if (input.getAttribute('data-word-count')) {
                        updateWordCount(input);
                    }
                }
            });
        }

        // Show saved indicator
        function showSavedIndicator() {
            const indicator = document.getElementById('savedIndicator');
            indicator.classList.add('show');
            setTimeout(() => {
                indicator.classList.remove('show');
            }, 2000);
        }

        // Update progress display
        function updateProgressDisplay() {
            const totalProgress = Object.values(lessonProgress).reduce((a, b) => a + b, 0) / 5;
            document.getElementById('overallProgress').style.width = totalProgress + '%';
            document.getElementById('progressText').textContent = `Fortschritt: ${Math.round(totalProgress)}%`;
        }

        // Show lesson function
        function showLesson(lessonNum) {
            // Hide all panels
            const panels = document.querySelectorAll('.lesson-panel');
            panels.forEach(panel => panel.classList.remove('active'));
            
            // Hide all tab buttons
            const buttons = document.querySelectorAll('.tab-button');
            buttons.forEach(button => button.classList.remove('active'));
            
            // Show selected lesson
            document.getElementById(`lesson${lessonNum}`).classList.add('active');
            buttons[lessonNum - 1].classList.add('active');
            
            currentLesson = lessonNum;
            
            // Load auto-saved content for the current lesson
            loadAutoSavedContent();
        }

        // Complete reading section
        function completeReadingSection() {
            lessonProgress.lesson1 = 100;
            saveProgress();
            updateProgressDisplay();
            
            // Check if all required fields are filled
            const metaphors = document.querySelector('[data-autosave="reading-metaphors"]').value;
            const similarities = document.querySelector('[data-autosave="reading-similarities"]').value;
            const problems = document.querySelector('[data-autosave="reading-problems"]').value;
            
            if (metaphors && similarities && problems) {
                alert('üéâ Herzlichen Gl√ºckwunsch! Leseaufgabe abgeschlossen!\nüéâ Ch√∫c m·ª´ng! Ho√†n th√†nh b√†i ƒë·ªçc hi·ªÉu!');
                showLesson(2);
            } else {
                alert('‚ö†Ô∏è Bitte f√ºllt alle Felder aus!\n‚ö†Ô∏è Vui l√≤ng ƒëi·ªÅn ƒë·∫ßy ƒë·ªß t·∫•t c·∫£ c√°c √¥!');
            }
        }

        // Complete comparison section
        function completeComparisonSection() {
            lessonProgress.lesson2 = 100;
            saveProgress();
            updateProgressDisplay();
            alert('‚öΩÔ∏è Gro√üartig! Vergleichsaufgabe fertig!\n‚öΩÔ∏è Tuy·ªát v·ªùi! Ho√†n th√†nh b√†i so s√°nh!');
            showLesson(3);
        }



        // Complete writing section
        function completeWritingSection() {
            const article = document.querySelector('[data-autosave="main-article"]').value;
            const wordCount = article.split(/\s+/).filter(word => word.length > 0).length;
            
            if (wordCount >= 180 && wordCount <= 250) {
                lessonProgress.lesson3 = 100;
                saveProgress();
                updateProgressDisplay();
                alert('‚úçÔ∏è Perfekt! Euer Artikel ist fertig!\n‚úçÔ∏è Ho√†n h·∫£o! B√†i vi·∫øt c·ªßa em ƒë√£ xong!');
                showLesson(4);
            } else if (wordCount < 180) {
                alert(`üìù Euer Artikel braucht noch ${180 - wordCount} W√∂rter!\nüìù B√†i vi·∫øt c·∫ßn th√™m ${180 - wordCount} t·ª´ n·ªØa!`);
            } else {
                alert('üìù Euer Artikel ist zu lang! K√ºrzt ihn bitte.\nüìù B√†i vi·∫øt qu√° d√†i! Vui l√≤ng r√∫t g·ªçn.');
            }
        }

        // Check quiz answers
        function checkQuizAnswers() {
            let score = 0;
            const totalQuestions = 3;
            
            // Q1: Germany has most World Cups
            const q1 = document.querySelector('input[name="q1"]:checked');
            if (q1 && q1.value === 'a') score++;
            
            // Q2: Ronaldo doesn't play in Spain anymore
            const q2 = document.querySelector('input[name="q2"]:checked');
            if (q2 && q2.value === 'a') score++;
            
            // Q3: Real Madrid is from Spain
            const madrid = document.querySelector('[data-autosave="quiz-madrid"]').value.toLowerCase();
            if (madrid.includes('spanien') || madrid.includes('spain') || madrid.includes('t√¢y ban nha')) score++;
            
            const percentage = Math.round((score / totalQuestions) * 100);
            lessonProgress.lesson4 = Math.max(lessonProgress.lesson4, percentage);
            saveProgress();
            updateProgressDisplay();
            
            alert(`üéØ Quiz Ergebnis: ${score}/${totalQuestions} richtig (${percentage}%)\nüéØ K·∫øt qu·∫£ quiz: ${score}/${totalQuestions} ƒë√∫ng (${percentage}%)`);
        }

        // Complete game section
        function completeGameSection() {
            lessonProgress.lesson4 = 100;
            saveProgress();
            updateProgressDisplay();
            alert('üéÆ Fantastisch! Alle Spiele abgeschlossen!\nüéÆ Tuy·ªát v·ªùi! Ho√†n th√†nh t·∫•t c·∫£ tr√≤ ch∆°i!');
            showLesson(5);
        }

        // Complete design section
        function completeDesignSection() {
            lessonProgress.lesson5 = 100;
            saveProgress();
            updateProgressDisplay();
            alert('üé® Wunderbar! Euer EU United FC ist fertig!\nüé® Tuy·ªát v·ªùi! EU United FC c·ªßa em ƒë√£ ho√†n th√†nh!');
        }

        // Complete final reflection
        function completeFinalReflection() {
            alert('üèÜ HERZLICHEN GL√úCKWUNSCH! Ihr habt alle Aufgaben erfolgreich abgeschlossen!\nüèÜ CH√öC M·ª™NG! C√°c em ƒë√£ ho√†n th√†nh th√†nh c√¥ng t·∫•t c·∫£ b√†i t·∫≠p!');
        }

        // Update word count
        function updateWordCount(textarea) {
            const text = textarea.value;
            const wordCount = text.split(/\s+/).filter(word => word.length > 0).length;
            const counter = document.getElementById('wordCount');
            if (counter) {
                counter.textContent = `W√∂rter: ${wordCount} / 180-200 | T·ª´: ${wordCount} / 180-200`;
                
                // Color coding for word count
                if (wordCount < 180) {
                    counter.style.color = '#ffc107'; // Yellow - needs more
                } else if (wordCount >= 180 && wordCount <= 200) {
                    counter.style.color = '#28a745'; // Green - perfect
                } else {
                    counter.style.color = '#dc3545'; // Red - too many
                }
            }
        }



        // Update chance display for slider
        function updateChanceDisplay(value) {
            document.getElementById('chanceDisplay').textContent = value;
            autoSave(document.querySelector('[data-autosave="chances"]'));
        }

        // Event listeners
        document.addEventListener('DOMContentLoaded', function() {
            loadProgress();
            loadAutoSavedContent();
            
            // Add auto-save listeners to all inputs
            const inputs = document.querySelectorAll('[data-autosave]');
            inputs.forEach(input => {
                input.addEventListener('input', function() {
                    autoSave(this);
                    if (this.getAttribute('data-word-count')) {
                        updateWordCount(this);
                    }
                });
                
                // For checkboxes and radio buttons
                input.addEventListener('change', function() {
                    if (this.type === 'checkbox' || this.type === 'radio') {
                        localStorage.setItem(`eu_sports_${this.getAttribute('data-autosave')}`, this.checked);
                        showSavedIndicator();
                    }
                });
            });
            
            // Load checkbox states
            document.querySelectorAll('input[type="checkbox"][data-autosave]').forEach(checkbox => {
                const key = checkbox.getAttribute('data-autosave');
                const saved = localStorage.getItem(`eu_sports_${key}`);
                if (saved === 'true') {
                    checkbox.checked = true;
                }
            });
            
            // Initial word count for main article
            const mainArticle = document.querySelector('[data-autosave="main-article"]');
            if (mainArticle) {
                updateWordCount(mainArticle);
            }
        });

        // Keyboard navigation
        document.addEventListener('keydown', function(e) {
            if (e.ctrlKey || e.metaKey) {
                switch(e.key) {
                    case '1':
                        e.preventDefault();
                        showLesson(1);
                        break;
                    case '2':
                        e.preventDefault();
                        showLesson(2);
                        break;
                    case '3':
                        e.preventDefault();
                        showLesson(3);
                        break;
                    case '4':
                        e.preventDefault();
                        showLesson(4);
                        break;
                    case '5':
                        e.preventDefault();
                        showLesson(5);
                        break;
                    case 's':
                        e.preventDefault();
                        showSavedIndicator();
                        break;
                }
            }
        });

        // Touch gestures for mobile
        let touchStartX = 0;
        let touchEndX = 0;

        document.addEventListener('touchstart', function(e) {
            touchStartX = e.changedTouches[0].screenX;
        });

        document.addEventListener('touchend', function(e) {
            touchEndX = e.changedTouches[0].screenX;
            handleSwipe();
        });

        function handleSwipe() {
            const swipeThreshold = 100;
            const swipeDistance = touchEndX - touchStartX;
            
            if (Math.abs(swipeDistance) > swipeThreshold) {
                if (swipeDistance > 0 && currentLesson > 1) {
                    // Swipe right - previous lesson
                    showLesson(currentLesson - 1);
                } else if (swipeDistance < 0 && currentLesson < 5) {
                    // Swipe left - next lesson
                    showLesson(currentLesson + 1);
                }
            }
        }

        // Print function
        function printLesson() {
            window.print();
        }


        // Export progress function
        function exportProgress() {
            const allData = {};
            
            // Get all auto-saved content
            const inputs = document.querySelectorAll('[data-autosave]');
            inputs.forEach(input => {
                const key = input.getAttribute('data-autosave');
                allData[key] = input.value || (input.type === 'checkbox' ? input.checked : '');
            });
            
            // Add progress data
            allData.progress = lessonProgress;
            allData.exportDate = new Date().toISOString();
            
            // Create download
            const blob = new Blob([JSON.stringify(allData, null, 2)], {type: 'application/json'});
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = 'eu-sports-lesson-progress.json';
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            URL.revokeObjectURL(url);
        }

        // --- Vocabulary Enhancement ---
        // Expanded IPA dictionary for all vocab words
        const ipaDict = {
            "Sportverein": "[Àà Ép…î Åt.f…õ ÅÀåa…™ÃØn]",
            "EU": "[eÀê  îuÀê]",
            "Lesen": "[ÀàleÀêznÃ©]",
            "Vergleichen": "[f…õ…êÃØÀà…°la…™ÃØ√ßnÃ©]",
            "Schreiben": "[Àà É Åa…™ÃØbnÃ©]",
            "Spiele": "[Àà ÉpiÀêl…ô]",
            "Design": "[diÀàza…™ÃØn]",
            "Hauptziel": "[Ààha äÃØptÀåtsiÀêl]",
            "Mitglieder": "[Ààm…™tÀå…°liÀêd…ê]",
            "Chef": "[ É…õf]",
            "Boss": "[b…îs]",
            "Regeln": "[Àà ÅeÀê…°lÃ©n]",
            "Budget": "[byÀà í…õÀê]",
            "Erfolg": "[…õ…êÃØÀàf…îlk]",
            "Probleme": "[p ÅoÀàbleÀêm…ô]",
            "Fans": "[f…õns]",
            // Add more as needed
        };

        function enhanceVocab() {
            document.querySelectorAll('.vocabulary-section .german').forEach(function(wordElem) {
                // Only enhance if not already enhanced
                if (!wordElem.classList.contains('vocab-word')) {
                    const word = wordElem.textContent.trim();
                    wordElem.classList.add('vocab-word');
                    wordElem.setAttribute('data-word', word);

                    // Add icons
                    const icons = document.createElement('span');
                    icons.className = 'vocab-icons';
                    icons.innerHTML = `<a href="#" class="google-image-link" title="Google Images" data-word="${word}" target="_blank">üñº</a><span class="sound-icon" data-word="${word}" title="Aussprache anh√∂ren">üîä</span>`;
                    wordElem.appendChild(icons);

                    // Add IPA
                    const ipa = ipaDict[word] || '[IPA fehlt]';
                    const ipaElem = document.createElement('div');
                    ipaElem.className = 'ipa';
                    ipaElem.textContent = ipa;
                    // Insert IPA before the next .vietnamese sibling, if present
                    const next = wordElem.nextElementSibling;
                    if (next && next.classList.contains('vietnamese')) {
                        wordElem.parentNode.insertBefore(ipaElem, next);
                    } else {
                        wordElem.appendChild(ipaElem);
                    }
                }
            });


            // Add event listeners
            document.querySelectorAll('.vocab-word .google-image-link').forEach(function(link) {
                link.addEventListener('click', function(e) {
                    e.preventDefault();
                    const word = this.getAttribute('data-word');
                    window.open(`https://www.google.com/search?tbm=isch&q=${encodeURIComponent(word)}`, '_blank');
                });
            });
            document.querySelectorAll('.vocab-word .sound-icon').forEach(function(icon) {
                icon.addEventListener('click', function() {
                    const word = this.getAttribute('data-word');
                    const utter = new SpeechSynthesisUtterance(word);
                    utter.lang = 'de-DE';
                    window.speechSynthesis.speak(utter);
                });
            });
        }
        document.addEventListener('DOMContentLoaded', function() {
            // ... existing code ...
            enhanceVocab();
        });
        // ... existing code ...
    </script>
</body>
</html>